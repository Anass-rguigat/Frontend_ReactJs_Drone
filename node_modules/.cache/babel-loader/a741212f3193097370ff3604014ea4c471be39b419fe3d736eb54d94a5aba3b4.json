{"ast":null,"code":"import * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport gsap from 'gsap';\nlet camera, scene, renderer;\nconst loader = new GLTFLoader();\nexport function init() {\n  camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.01, 10);\n  camera.position.z = 5;\n  camera.rotation.z = 0; // Ensure default rotation is at 0, as gsap handles the animation\n\n  scene = new THREE.Scene();\n  const light = new THREE.AmbientLight(0xffffff, 2);\n  scene.add(light);\n  loader.load(\"/drone.glb\", gltf => {\n    let model = gltf.scene;\n    model.scale.set(0.45, 0.45, 0.45);\n\n    // Smooth Camera Animation\n    gsap.to(camera.position, {\n      z: 1,\n      duration: 1,\n      ease: \"back.out(1.7)\"\n    });\n\n    // Reset camera rotation\n    gsap.to(camera.rotation, {\n      z: 0,\n      duration: 1\n    });\n\n    // Animate Model Rotation and Position\n    gsap.to(model.rotation, {\n      x: Math.PI / 2,\n      // Slight tilt\n      duration: 1,\n      delay: 1\n    });\n    gsap.to(model.rotation, {\n      y: Math.PI * 1.75,\n      // Rotation around Y axis\n      duration: 2,\n      delay: 1\n    });\n    gsap.to(model.scale, {\n      x: 0.25,\n      y: 0.25,\n      z: 0.25,\n      duration: 1,\n      delay: 1\n    });\n    gsap.to(model.position, {\n      x: 0.35,\n      y: 0.3,\n      duration: 1,\n      delay: 1\n    });\n    scene.add(model);\n  });\n  renderer = new THREE.WebGLRenderer({\n    antialias: true\n  });\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.setAnimationLoop(animation);\n  renderer.setClearColor(0x272727, 1);\n\n  // Wait for DOM to load before attaching renderer\n  const canvasContainer = document.getElementById('canvas-container');\n  if (canvasContainer) {\n    canvasContainer.appendChild(renderer.domElement);\n  }\n  window.addEventListener('resize', () => {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  });\n}\nfunction animation() {\n  renderer.render(scene, camera);\n}","map":{"version":3,"names":["THREE","GLTFLoader","gsap","camera","scene","renderer","loader","init","PerspectiveCamera","window","innerWidth","innerHeight","position","z","rotation","Scene","light","AmbientLight","add","load","gltf","model","scale","set","to","duration","ease","x","Math","PI","delay","y","WebGLRenderer","antialias","setSize","setAnimationLoop","animation","setClearColor","canvasContainer","document","getElementById","appendChild","domElement","addEventListener","aspect","updateProjectionMatrix","render"],"sources":["C:/Users/rguig/OneDrive/Desktop/dev/projet/Frontend_ReactJs_Drone/src/utils/initDroneLayout.js"],"sourcesContent":["import * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nimport gsap from 'gsap';\r\n\r\nlet camera, scene, renderer;\r\nconst loader = new GLTFLoader();\r\n\r\nexport function init() {\r\n  camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.01, 10);\r\n  camera.position.z = 5;\r\n  camera.rotation.z = 0; // Ensure default rotation is at 0, as gsap handles the animation\r\n\r\n  scene = new THREE.Scene();\r\n\r\n  const light = new THREE.AmbientLight(0xffffff, 2);\r\n  scene.add(light);\r\n\r\n  loader.load(\"/drone.glb\", (gltf) => {\r\n    let model = gltf.scene;\r\n    model.scale.set(0.45, 0.45, 0.45);\r\n\r\n    // Smooth Camera Animation\r\n    gsap.to(camera.position, {\r\n      z: 1,\r\n      duration: 1,\r\n      ease: \"back.out(1.7)\",\r\n    });\r\n\r\n    // Reset camera rotation\r\n    gsap.to(camera.rotation, {\r\n      z: 0,\r\n      duration: 1,\r\n    });\r\n\r\n    // Animate Model Rotation and Position\r\n    gsap.to(model.rotation, {\r\n      x: Math.PI / 2, // Slight tilt\r\n      duration: 1,\r\n      delay: 1,\r\n    });\r\n\r\n    gsap.to(model.rotation, {\r\n      y: Math.PI * 1.75, // Rotation around Y axis\r\n      duration: 2,\r\n      delay: 1,\r\n    });\r\n\r\n    gsap.to(model.scale, {\r\n      x: 0.25,\r\n      y: 0.25,\r\n      z: 0.25,\r\n      duration: 1,\r\n      delay: 1,\r\n    });\r\n\r\n    gsap.to(model.position, {\r\n      x: 0.35,\r\n      y: 0.3,\r\n      duration: 1,\r\n      delay: 1,\r\n    });\r\n\r\n    scene.add(model);\r\n  });\r\n\r\n  renderer = new THREE.WebGLRenderer({ antialias: true });\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n  renderer.setAnimationLoop(animation);\r\n  renderer.setClearColor(0x272727, 1);\r\n\r\n  // Wait for DOM to load before attaching renderer\r\n  const canvasContainer = document.getElementById('canvas-container');\r\n  if (canvasContainer) {\r\n    canvasContainer.appendChild(renderer.domElement);\r\n  }\r\n\r\n  window.addEventListener('resize', () => {\r\n    camera.aspect = window.innerWidth / window.innerHeight;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n  });\r\n}\r\n\r\nfunction animation() {\r\n  renderer.render(scene, camera);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}